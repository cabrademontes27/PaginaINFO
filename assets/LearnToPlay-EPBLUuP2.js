import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,b,w,t as l,n as h,h as g,F as d,r as u,g as p,f as _,o as n}from"./index-D1N2IT2F.js";const v={name:"LearnBraille",data(){return{brailleMap:{a:"⠁",b:"⠃",c:"⠉",d:"⠙",e:"⠑",f:"⠋",g:"⠛",h:"⠓",i:"⠊",j:"⠚",k:"⠅",l:"⠇",m:"⠍",n:"⠝",o:"⠕",p:"⠏",q:"⠟",r:"⠗",s:"⠎",t:"⠞",u:"⠥",v:"⠧",w:"⠺",x:"⠭",y:"⠽",z:"⠵"},translations:{hola:"HOLA",mundo:"MUNDO",braille:"BRAILLE",accesible:"ACCESIBLE",tecnologia:"TECNOLOGIA"},score:0,words:["hola","mundo","braille","accesible","tecnologia"],currentWord:"",userInput:"",showIncorrect:!1,feedbackMessage:"",letterSounds:{},showTranslation:!1}},computed:{currentWordBraille(){return this.currentWord.split("").map(t=>this.brailleMap[t]||t)},feedbackClass(){return{correct:this.feedbackMessage==="¡Correcto!",incorrect:this.feedbackMessage==="Intenta nuevamente"}},nextWordBraille(){return this.words.length>0?this.words[0].split("").map(t=>this.translations[t]||t):""}},mounted(){this.initializeGame(),window.addEventListener("keydown",this.handleKeyPress)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyPress)},methods:{initializeGame(){this.loadSounds(),this.startNewRound()},startNewRound(){if(this.words.length===0){this.feedbackMessage="¡Juego completado!";return}this.currentWord=this.words.shift().toLowerCase(),this.userInput="",this.showIncorrect=!1,this.feedbackMessage="",this.showTranslation=!1},handleKeyPress(t){const s=t.key.toLowerCase();if(s==="backspace"){t.preventDefault(),this.userInput=this.userInput.slice(0,-1);return}if(s==="enter"){t.preventDefault(),this.verifyWord();return}/^[a-z]$/.test(s)&&(this.userInput+=s,this.playSound(s),this.userInput.length===this.currentWord.length&&this.verifyWord())},verifyWord(){this.userInput===this.currentWord?this.handleCorrectAnswer():this.handleWrongAnswer()},getCharClass(t){return{"correct-char":this.userInput[t]===this.currentWord[t],"incorrect-char":this.userInput[t]!==this.currentWord[t]}},handleCorrectAnswer(){this.score+=10,this.feedbackMessage="¡Correcto!",this.showTranslation=!0,this.$refs.correctSound.play(),this.translations[this.currentWord]&&(this.feedbackMessage+=` (${this.translations[this.currentWord]})`),setTimeout(()=>{this.startNewRound()},1500)},handleWrongAnswer(){this.feedbackMessage="Intenta nuevamente",this.showIncorrect=!0,this.$refs.incorrectSound.play(),navigator.vibrate&&navigator.vibrate(500),setTimeout(()=>{this.userInput="",this.showIncorrect=!1,this.feedbackMessage=""},1e3)},async loadSounds(){try{const t="abcdefghijklmnopqrstuvwxyz".split("");for(const s of t)this.letterSounds[s]=`/sounds/letters/${s}.mp3`}catch(t){console.error("Error loading sounds:",t)}},playSound(t){const s=this.$refs[`${t}Sound`];s&&(s.currentTime=0,s.play())}}},k={class:"learn-container"},y={class:"game-header"},I={class:"game-stats"},C={class:"stat-item"},W={class:"stat-value"},S={class:"stat-item"},M={class:"stat-value"},B={class:"game-main"},L={class:"game-card"},T={class:"target-word"},E={class:"user-input-display"},P={key:0,class:"translation-display"},A={class:"next-word-board"},N={class:"next-word-display"},x={ref:"correctSound",src:"/public/sounds/win.mp3"},z={ref:"incorrectSound",src:"/public/sounds/losing.wav"},R=["src"];function V(t,s,D,O,r,c){const f=_("router-link");return n(),a("div",k,[e("header",y,[b(f,{to:"/",class:"back-button"},{default:w(()=>s[0]||(s[0]=[e("i",{class:"fas fa-arrow-left"},null,-1),p(" Volver al inicio ")])),_:1}),e("div",I,[e("div",C,[s[1]||(s[1]=e("span",{class:"stat-label"},"Puntuación",-1)),e("span",W,l(r.score),1)]),e("div",S,[s[2]||(s[2]=e("span",{class:"stat-label"},"Palabras restantes",-1)),e("span",M,l(r.words.length),1)])])]),e("main",B,[e("div",L,[s[5]||(s[5]=e("h1",{class:"game-title"},"Aprende Braille",-1)),e("div",{class:h(["word-display",{incorrect:r.showIncorrect}])},[e("div",T,[(n(!0),a(d,null,u(c.currentWordBraille,(i,o)=>(n(),a("span",{key:o,class:"braille-char"},l(i),1))),128))]),e("div",E,[(n(!0),a(d,null,u(r.userInput,(i,o)=>(n(),a("span",{key:o,class:h(["input-char",c.getCharClass(o)])},l(r.brailleMap[i]||i),3))),128))]),r.showTranslation?(n(),a("div",P,[s[3]||(s[3]=e("strong",null,"Traducción:",-1)),p(" "+l(r.translations[r.currentWord]),1)])):g("",!0)],2),e("div",A,[s[4]||(s[4]=e("h3",null,"Próxima Palabra",-1)),e("div",N,[(n(!0),a(d,null,u(c.nextWordBraille,(i,o)=>(n(),a("span",{key:o,class:"braille-char"},l(i),1))),128))])]),e("div",{class:h(["feedback-message",c.feedbackClass])},l(r.feedbackMessage),3),s[6]||(s[6]=e("div",{class:"instructions"},[e("p",null,"Escribe las letras y luego presiona Enter para comprobar"),e("p",null,"Usa tu teclado físico con los stickers Braille"),e("p",null,"Presiona Retroceso (Backspace) para borrar")],-1))])]),e("audio",x,null,512),e("audio",z,null,512),(n(!0),a(d,null,u(r.letterSounds,(i,o)=>(n(),a("audio",{key:o,ref_for:!0,ref:`${o}Sound`,src:i},null,8,R))),128))])}const U=m(v,[["render",V],["__scopeId","data-v-bb96438e"]]);export{U as default};
